{"version":3,"sources":["webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?4187","webpack:///./src/views/register/Register.vue?046d"],"names":["class","src","type","placeholder","username","autocomplete","password","checkpassword","handleRegister","handleToLogin","toastshow","message","toastmessage","showToast","router","data","result","errno","push","name","components","Toast","setup","render","__scopeId"],"mappings":"gNAEOA,MAAM,W,EACT,eAA4E,OAAvEA,MAAM,eAAeC,IAAI,8C,YACzBD,MAAM,kB,GAGNA,MAAM,kB,GAGNA,MAAM,kB,sGARb,eAeM,MAfN,EAeM,CAdJ,EACA,eAEM,MAFN,EAEM,C,eADJ,eAA4F,SAArFE,KAAK,OAAOF,MAAM,0BAA0BG,YAAY,S,qDAAkB,EAAAC,SAAQ,K,mBAAR,EAAAA,cAEnF,eAEM,MAFN,EAEM,C,eADJ,eAA2H,SAApHF,KAAK,WAAWF,MAAM,0BAA0BG,YAAY,QAAQE,aAAa,e,qDAAwB,EAAAC,SAAQ,K,mBAAR,EAAAA,cAElH,eAEM,MAFN,EAEM,C,eADJ,eAA+H,SAAxHJ,KAAK,WAAWF,MAAM,0BAA0BG,YAAY,OAAOE,aAAa,e,qDAAwB,EAAAE,cAAa,K,mBAAb,EAAAA,mBAEjH,eAAsE,OAAjEP,MAAM,2BAA4B,QAAK,8BAAE,EAAAQ,gBAAA,EAAAA,eAAA,sBAAgB,MAC9D,eAAwE,OAAnER,MAAM,yBAA0B,QAAK,8BAAE,EAAAS,eAAA,EAAAA,cAAA,sBAAe,WAE9C,EAAAC,W,iBAAb,eAAiD,G,MAAxBC,QAAS,EAAAC,c,4GAchC,EAAoB,SAACC,GACzB,IAAMC,EAAS,iBACTC,EAAO,eAAS,CACpBX,SAAU,GACVE,SAAU,GACVC,cAAe,KAEXC,EAAa,yDAAI,gHAGG,KAAlBO,EAAKX,UAAqC,KAAlBW,EAAKT,SAHd,uBAIjBO,EAAU,cAJO,6BAORP,IAAaC,EAPL,uBAQjBM,EAAU,WARO,2CAYE,eAAK,qBAAsB,CAC9CT,SAAUW,EAAKX,SACfE,SAAUS,EAAKT,WAdE,QAYbU,EAZa,OAiBO,IAAtBA,EAAOD,KAAKE,MACdH,EAAOI,KAAK,CAAEC,KAAM,UAGpBN,EAAU,QArBO,qDAyBnBA,EAAU,QAzBS,0DAAJ,qDAPoB,EAmCO,eAAOE,GAA7CX,EAnC+B,EAmC/BA,SAAUE,EAnCqB,EAmCrBA,SAAUC,EAnCW,EAmCXA,cAC5B,MAAO,CAAEH,WAAUE,WAAUC,gBAAeC,mBAE/B,GACbW,KAAM,QAENC,WAAY,CAAEC,QAAA,MACdC,MAJa,WAKX,IAAMR,EAAS,iBAETL,EAAgB,WACpBK,EAAOI,KAAK,CAAEC,KAAM,WAJf,EAOwC,iBAAvCT,EAPD,EAOCA,UAAWE,EAPZ,EAOYA,aAAcC,EAP1B,EAO0BA,UAP1B,EASuD,EAAkBA,GAAxET,EATD,EASCA,SAAUE,EATX,EASWA,SAAUC,EATrB,EASqBA,cAAeC,EATpC,EASoCA,eAI3C,MAAO,CAAEA,iBAAgBC,gBAAeL,WAAUE,WAAUC,gBAAeG,YAAWE,kB,UChF1F,EAAOW,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W","file":"js/register.415e238f.js","sourcesContent":["<template>\r\n<!-- 注册页面 -->\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\r\n    <div class=\"wrapper__input\">\r\n      <input type=\"text\" class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"username\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input type=\"password\" class=\"wrapper__input__content\" placeholder=\"请输入密码\" autocomplete=\"new-password\" v-model=\"password\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input type=\"password\" class=\"wrapper__input__content\" placeholder=\"确认密码\" autocomplete=\"new-password\" v-model=\"checkpassword\"/>\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleToLogin\">已有账号去登录</div>\r\n    <!-- 弹框组件Toast -->\r\n    <Toast v-if=\"toastshow\" :message=\"toastmessage\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n/*\r\n注册逻辑函数\r\n输入：提示框处理函数showToast\r\n输出：动态绑定数据-用户名username, 动态绑定数据-密码password,动态绑定-确认密码checkpassword，登录按钮句柄handleLogin，注册按钮句柄handleRegister\r\n*/\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    checkpassword: ''\r\n  })\r\n  const handleRegister = async () => {\r\n    try {\r\n      // 输入为空\r\n      if (data.username === '' || data.password === '') {\r\n        showToast('手机号和密码不能为空')\r\n        return\r\n      // 确认密码校验\r\n      } else if (password !== checkpassword) {\r\n        showToast('两次密码不一致')\r\n        return\r\n      }\r\n      // 将username和password提交接口校验\r\n      const result = await post('/api/user/register', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      // 校验成功\r\n      if (result.data.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        // 校验失败\r\n        showToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      // 链接失败\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password, checkpassword } = toRefs(data)\r\n  return { username, password, checkpassword, handleRegister }\r\n}\r\nexport default {\r\n  name: 'Login',\r\n  // Toast为提示框组件\r\n  components: { Toast },\r\n  setup () {\r\n    const router = useRouter()\r\n    // handleToLogin前往登录页面句柄\r\n    const handleToLogin = () => {\r\n      router.push({ name: 'Login' })\r\n    }\r\n    // 弹窗封装函数\r\n    const { toastshow, toastmessage, showToast } = useToastEffect()\r\n    // 注册封装函数\r\n    const { username, password, checkpassword, handleRegister } = useRegisterEffect(showToast)\r\n    // handleLogin登录按钮句柄, handleToRegister跳转到注册页面的句柄函数,\r\n    // toastshow决定Toast是否展示, toastmessageToast展示的内容,\r\n    // username用户名, password密码，checkpassword确认密码\r\n    return { handleRegister, handleToLogin, username, password, checkpassword, toastshow, toastmessage }\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    display: block;\r\n    margin: 0 auto .4rem auto;\r\n    width: .66rem;\r\n    height: .66rem;\r\n  }\r\n  .wrapper__input{\r\n    background: #F9F9F9;\r\n    box-sizing: border-box;\r\n    padding:0 .16rem 0 .16rem ;\r\n    border: .01rem solid rgba(0,0,0,0.10);\r\n    border-radius: .06rem;\r\n    border-radius: .06rem;\r\n    height: .48rem;\r\n    margin: 0 .4rem .16rem .4rem;\r\n    .wrapper__input__content{\r\n      border: none;\r\n      outline: none;\r\n      background:none;\r\n      width: 100%;\r\n      height: 100%;\r\n      font-size: .16rem;\r\n      &::placeholder{\r\n        font-size: .16rem;\r\n        color:$content-notice-fontcolor;\r\n        letter-spacing: 0;\r\n        line-height: .48rem;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: .32rem .4rem .16rem .4rem;\r\n    line-height: .48rem;\r\n    background: $btn-bgcolor;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n    border-radius: .04rem;\r\n    border-radius: .04rem;\r\n    color: $bg-color;\r\n    font-size: .16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=7e1283e6&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=7e1283e6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7e1283e6\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=7e1283e6&lang=scss&scoped=true\""],"sourceRoot":""}